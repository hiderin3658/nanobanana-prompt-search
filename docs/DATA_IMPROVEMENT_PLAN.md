# データ改善計画

## 現状分析（2026-01-10）

### データ概要
- **総数**: 191件
- **データソース**:
  - YouMind-OpenLab: 130件（日本語）
  - ZeroLu: 70件（英語）

### カテゴリ分布

| カテゴリ | 現在件数 | 目標件数 | 優先度 | 状態 |
|---------|---------|---------|--------|------|
| creative | 56件 | 80件 | 中 | ✅ 十分 |
| marketing | 35件 | 50件 | 中 | ✅ 十分 |
| avatar | 24件 | 30件 | 中 | ⚠️ やや少ない |
| photorealism | 17件 | 30件 | **高** | ⚠️ 少ない |
| education | 16件 | 25件 | **高** | ⚠️ 少ない |
| ecommerce | 16件 | 30件 | **高** | ⚠️ 少ない |
| other | 27件 | 20件 | 低 | - |
| **interior** | **0件** | **15件** | **🔴 最優先** | ❌ データなし |
| **editing** | **0件** | **15件** | **🔴 最優先** | ❌ データなし |
| **workplace** | **不明** | **15件** | **高** | ⚠️ 確認必要 |
| **daily** | **不明** | **10件** | 中 | ⚠️ 確認必要 |

---

## Phase 1: 不足カテゴリの補強（優先度: 🔴 最高）

### 目標
**カテゴリ定義とデータの不整合を解消**

### タスク

#### 1. データ現状確認
- [ ] 実際のデータ分布を確認（`scripts/analyze-data.ts` を作成して実行）
- [ ] workplace, daily, interior, editing が本当に0件か確認

#### 2. 不足カテゴリのデータソース探索

**候補リポジトリ**:
- [ ] xianyu110/awesome-nanobananapro-prompts（中国語、約30件）
- [ ] GitHub検索: "nano banana pro prompts"
- [ ] Reddit: r/StableDiffusion, r/GoogleGemini
- [ ] X (Twitter): #NanoBananaPro

**必要なカテゴリ**:
1. **interior**（インテリア）: 15件
   - 部屋のデザイン
   - 家具配置
   - リフォーム提案

2. **editing**（写真編集）: 15件
   - 背景除去
   - レタッチ
   - 写真修復
   - 色調補正

3. **workplace**（ビジネス・仕事）: 15件
   - オフィス環境
   - プレゼンテーション用画像
   - ビジネスイラスト

4. **daily**（日常・翻訳）: 10件
   - 日常生活のシーン
   - 言語翻訳補助

#### 3. 手動キュレーション
データソースが見つからない場合は、高品質なプロンプトを手動で作成・検証：
- [ ] 各カテゴリの代表的なユースケースをリストアップ
- [ ] Nano Banana Proで実際にテスト
- [ ] 効果的なプロンプトのみを追加

---

## Phase 2: 主要カテゴリの拡充（優先度: 🟡 高）

### 目標
**検索精度向上のため、主要カテゴリのバリエーションを増やす**

### タスク

#### 1. ecommerce（EC・商品）: 16件 → 30件

**追加すべき多様性**:
- [ ] 食品撮影（5件）
- [ ] ファッション・アパレル（5件）
- [ ] 電子機器（3件）
- [ ] 家具・インテリア雑貨（3件）
- [ ] バーチャル試着（2件）

#### 2. photorealism（写真・肖像）: 17件 → 30件

**追加すべき多様性**:
- [ ] ポートレート撮影（5件）
- [ ] イベント写真（3件）
- [ ] 建築写真（3件）
- [ ] 風景写真（2件）

#### 3. education（教育・図解）: 16件 → 25件

**追加すべき多様性**:
- [ ] インフォグラフィック（4件）
- [ ] 教材イラスト（3件）
- [ ] ダイアグラム・フローチャート（2件）

---

## Phase 3: データ品質の向上（優先度: 🟢 中）

### 目標
**検索精度向上のため、メタデータを充実**

### タスク

#### 1. 日本語説明文の追加
- [ ] ZeroLu（英語）プロンプトの説明を日本語化
- [ ] ZEROLU_DESCRIPTIONS_JA を拡充

#### 2. タグ機能の追加（将来的な拡張）
- [ ] カテゴリ以外のタグ（例: "初心者向け", "プロ向け", "リアル系", "アニメ系"）
- [ ] 複数タグによる絞り込み検索

#### 3. サンプル画像の追加
- [ ] 各プロンプトに生成例画像を追加（imageUrlフィールド）
- [ ] ユーザーが視覚的に選べるように

---

## 推奨データソース

### 1. 既存リポジトリの追加

| リポジトリ | 件数 | 言語 | 追加優先度 |
|-----------|------|------|-----------|
| xianyu110/awesome-nanobananapro-prompts | 30件 | 中国語 | 🟡 高 |
| その他のGitHubリポジトリ | - | - | 調査中 |

### 2. コミュニティソース

- Reddit: r/StableDiffusion
- X (Twitter): #NanoBananaPro
- Discord: Gemini API コミュニティ

### 3. 手動キュレーション

**基準**:
- 実際にNano Banana Proでテスト済み
- 高品質な出力結果
- 明確なユースケース

---

## データ追加の実装方法

### 方法1: 新しいGitHubリポジトリを追加

1. `lib/types.ts` の `DATA_SOURCES` に追加:
   ```typescript
   {
     owner: "xianyu110",
     repo: "awesome-nanobananapro-prompts",
     branch: "main",
     filePath: "README.md",
     sourceId: "xianyu",
   }
   ```

2. `lib/github-parser.ts` でパーサーを実装

3. `/api/sync` を実行してデータ投入

### 方法2: 手動でJSONファイルを追加

1. `data/custom-prompts.json` を作成:
   ```json
   [
     {
       "id": "custom-1",
       "title": "インテリアデザイン例1",
       "prompt": "...",
       "category": "interior",
       "source": "manual",
       "language": "ja"
     }
   ]
   ```

2. `lib/github-parser.ts` で読み込む関数を追加

3. `/api/sync` で投入

---

## 成功指標（KPI）

### Phase 1（不足カテゴリ補強）
- [ ] すべてのカテゴリに最低10件以上のデータ
- [ ] カテゴリ定義とデータの100%一致

### Phase 2（主要カテゴリ拡充）
- [ ] ecommerce, photorealism, education が各25件以上
- [ ] 総データ件数: 300件以上

### Phase 3（品質向上）
- [ ] 全プロンプトに日本語説明文
- [ ] 主要プロンプト（50件）にサンプル画像

---

## スケジュール

| フェーズ | 期間 | マイルストーン |
|---------|------|--------------|
| Phase 1 | 1週間 | 不足カテゴリ補強完了 |
| Phase 2 | 2-3週間 | 主要カテゴリ拡充完了（300件達成） |
| Phase 3 | 継続的 | ユーザーフィードバック反映 |

---

## 注意事項

### 質 > 量
- 低品質なプロンプトを大量に追加するより、高品質なプロンプトを厳選
- 各プロンプトは実際にテストして効果を確認

### ライセンス遵守
- 追加するデータソースのライセンスを確認
- CC BY 4.0など、再配布可能なライセンスを優先

### パフォーマンス
- Upstash Vector Free枠: 10,000件まで
- 500-1000件程度であれば問題なし
- 検索速度への影響を定期的に確認

---

## まとめ

### 現状の200件で十分か？

**短期的（1-2ヶ月）**: ✅ 運用開始可能
- 主要なユースケースはカバーされている
- ただし、不足カテゴリの補強は必須

**中長期的（3ヶ月以上）**: ⚠️ 拡充推奨
- ユーザーフィードバックを反映して300-500件に拡充
- 特に人気カテゴリの多様性を向上

### 次のアクション

1. **今すぐ**: 不足カテゴリ（interior, editing）のデータソース探索
2. **1週間以内**: Phase 1完了（全カテゴリに最低10件）
3. **1ヶ月以内**: Phase 2完了（主要カテゴリ拡充、300件達成）
